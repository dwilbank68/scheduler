var $unit = $('#unit_' + <%= params[:unit_id] %>);
<%  unit = Unit.find( params[:unit_id] )%>

<% if @unituser.destroyed? %>
    $('#unit_user_' + <%= @unituser.id %>).fadeOut();
    $unit.find('.time-remaining').html("<%= escape_javascript(min_to_hrs_min(unit.duration)) %>");

    // refresh all unitusers start and end times, as well as a silly way to
    // keep updating the parent unit's 'est time of completion' field until it matches the final 'end_time' value

    <% unit.unit_users.each do |unit_user| %>
        $('#start_time_<%= unit_user.id %>').html('<%= unit_user.start_time.in_time_zone(unit_user.user.timezone).strftime('%b %e, %l:%M %p') %>');
        $('#end_time_<%= unit_user.id %>').html('<%= unit_user.end_time.in_time_zone(unit_user.user.timezone).strftime('%b %e, %l:%M %p')  %>');
        $unit.find('.est-time-of-completion').html('<%= unit_user.end_time.in_time_zone(unit_user.user.timezone).strftime('%b %e, %l:%M %p') %>');
    <% end %>

<% end %>